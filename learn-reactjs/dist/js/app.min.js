"use strict";var APP=APP||{};APP.launcher=function(){function e(){APP.render.product()}return{init:e}}(),APP.render=function(){function e(){var e=[{category:"Sporting Goods",price:"$49.99",stocked:!0,name:"Football"},{category:"Sporting Goods",price:"$9.99",stocked:!0,name:"Baseball"},{category:"Sporting Goods",price:"$29.99",stocked:!1,name:"Basketball"},{category:"Electronics",price:"$99.99",stocked:!0,name:"iPod Touch"},{category:"Electronics",price:"$399.99",stocked:!1,name:"iPhone 5"},{category:"Electronics",price:"$199.99",stocked:!0,name:"Nexus 7"}],t=React.createClass({displayName:"ProductCategoryRow",render:function(){return React.createElement("tr",null,React.createElement("th",{colSpan:"2"},this.props.category))}}),n=React.createClass({displayName:"ProductRow",render:function(){var e=this.props.product.stocked?this.props.product.name:React.createElement("span",{style:{color:"red"}},this.props.product.name);return React.createElement("tr",null,React.createElement("td",null,e),React.createElement("td",null,this.props.product.price))}}),r=React.createClass({displayName:"ProductTable",render:function(){var e=[],r=null;return this.props.products.forEach(function(c){c.name.indexOf(this.props.filterText)===-1||!c.stocked&&this.props.inStockOnly||(c.category!==r&&e.push(React.createElement(t,{category:c.category,key:c.category})),e.push(React.createElement(n,{product:c,key:c.name})),r=c.category)}.bind(this)),React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Price"))),React.createElement("tbody",null,e))}}),c=React.createClass({displayName:"SearchBar",handleChange:function(){this.props.onUserInput(this.refs.filterTextInput.value,this.refs.inStockOnlyInput.checked)},render:function(){return React.createElement("form",null,React.createElement("input",{type:"text",placeholder:"Search...",value:this.props.filterText,ref:"filterTextInput",onChange:this.handleChange}),React.createElement("p",null,React.createElement("input",{type:"checkbox",checked:this.props.inStockOnly,ref:"inStockOnlyInput",onChange:this.handleChange})," ","Only show products in stock"))}}),a=React.createClass({displayName:"FilterableProductTable",getInitialState:function(){return{filterText:"",inStockOnly:!1}},handleUserInput:function(e,t){this.setState({filterText:e,inStockOnly:t})},render:function(){return React.createElement("div",null,React.createElement(c,{filterText:this.state.filterText,inStockOnly:this.state.inStockOnly,onUserInput:this.handleUserInput}),React.createElement(r,{products:this.props.products,filterText:this.state.filterText,inStockOnly:this.state.inStockOnly}))}});ReactDOM.render(React.createElement(a,{products:e}),document.getElementById("container"))}return{product:e}}(),APP.launcher.init();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiLCJhcHAuanMiXSwibmFtZXMiOlsiQVBQIiwibGF1bmNoZXIiLCJpbml0IiwicmVuZGVyIiwicHJvZHVjdCIsIlBST0RVQ1RTIiwiY2F0ZWdvcnkiLCJwcmljZSIsInN0b2NrZWQiLCJuYW1lIiwiUHJvZHVjdENhdGVnb3J5Um93IiwiUmVhY3QiLCJjcmVhdGVDbGFzcyIsImRpc3BsYXlOYW1lIiwiY3JlYXRlRWxlbWVudCIsImNvbFNwYW4iLCJ0aGlzIiwicHJvcHMiLCJQcm9kdWN0Um93Iiwic3R5bGUiLCJjb2xvciIsIlByb2R1Y3RUYWJsZSIsInJvd3MiLCJsYXN0Q2F0ZWdvcnkiLCJwcm9kdWN0cyIsImZvckVhY2giLCJpbmRleE9mIiwiZmlsdGVyVGV4dCIsImluU3RvY2tPbmx5IiwicHVzaCIsImtleSIsImJpbmQiLCJTZWFyY2hCYXIiLCJoYW5kbGVDaGFuZ2UiLCJvblVzZXJJbnB1dCIsInJlZnMiLCJmaWx0ZXJUZXh0SW5wdXQiLCJ2YWx1ZSIsImluU3RvY2tPbmx5SW5wdXQiLCJjaGVja2VkIiwidHlwZSIsInBsYWNlaG9sZGVyIiwicmVmIiwib25DaGFuZ2UiLCJGaWx0ZXJhYmxlUHJvZHVjdFRhYmxlIiwiZ2V0SW5pdGlhbFN0YXRlIiwiaGFuZGxlVXNlcklucHV0Iiwic2V0U3RhdGUiLCJzdGF0ZSIsIlJlYWN0RE9NIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6IkFBQUEsWUNHQSxJQUFJQSxLQUFNQSxPQUtWQSxLQUFJQyxTQUFhLFdBRWhCLFFBQVNDLEtBQ1JGLElBQUlHLE9BQU9DLFVBR1osT0FDQ0YsS0FBTUEsTUFLUkYsSUFBSUcsT0FBVyxXQUVkLFFBQVNDLEtBRVIsR0FBSUMsS0FDREMsU0FBVSxpQkFBa0JDLE1BQU8sU0FBVUMsU0FBUyxFQUFNQyxLQUFNLGFBQ2xFSCxTQUFVLGlCQUFrQkMsTUFBTyxRQUFTQyxTQUFTLEVBQU1DLEtBQU0sYUFDakVILFNBQVUsaUJBQWtCQyxN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QVdaLEtBQU1nQyxNQUFNcEIsaUJBT2pDcUIsVUFBUzlDLE9BQ1BRLE1BQUFHLGNBQUM4QixHQUFzQnBCLFNBQUNuQixJQUN4QjZDLFNBQVNDLGVBQWUsY0FLM0IsT0FDQy9DLFFBQVNBLE1BTVhKLElBQUlDLFNBQVNDIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0TkFNRVNQQUNFXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG52YXIgQVBQID0gQVBQIHx8IHt9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgTEFVTkNIIEFQUFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuQVBQLmxhdW5jaGVyID0gZnVuY3Rpb24gKCkge1xuXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0QVBQLnJlbmRlci5wcm9kdWN0KCk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGluaXQ6IGluaXRcblx0fTtcbn0oKTtcblxuQVBQLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxuXHRmdW5jdGlvbiBwcm9kdWN0KCkge1xuXG5cdFx0dmFyIFBST0RVQ1RTID0gW3sgY2F0ZWdvcnk6ICdTcG9ydGluZyBHb29kcycsIHByaWNlOiAnJDQ5Ljk5Jywgc3RvY2tlZDogdHJ1ZSwgbmFtZTogJ0Zvb3RiYWxsJyB9LCB7IGNhdGVnb3J5OiAnU3BvcnRpbmcgR29vZHMnLCBwcmljZTogJyQ5Ljk5Jywgc3RvY2tlZDogdHJ1ZSwgbmFtZTogJ0Jhc2ViYWxsJyB9LCB7IGNhdGVnb3J5OiAnU3BvcnRpbmcgR29vZHMnLCBwcmljZTogJyQyOS45OScsIHN0b2NrZWQ6IGZhbHNlLCBuYW1lOiAnQmFza2V0YmFsbCcgfSwgeyBjYXRlZ29yeTogJ0VsZWN0cm9uaWNzJywgcHJpY2U6ICckOTkuOTknLCBzdG9ja2VkOiB0cnVlLCBuYW1lOiAnaVBvZCBUb3VjaCcgfSwgeyBjYXRlZ29yeTogJ0VsZWN0cm9uaWNzJywgcHJpY2U6ICckMzk5Ljk5Jywgc3RvY2tlZDogZmFsc2UsIG5hbWU6ICdpUGhvbmUgNScgfSwgeyBjYXRlZ29yeTogJ0VsZWN0cm9uaWNzJywgcHJpY2U6ICckMTk5Ljk5Jywgc3RvY2tlZDogdHJ1ZSwgbmFtZTogJ05leHVzIDcnIH1dO1xuXG5cdFx0dmFyIFByb2R1Y3RDYXRlZ29yeVJvdyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHsgZGlzcGxheU5hbWU6IFwiUHJvZHVjdENhdGVnb3J5Um93XCIsXG5cdFx0XHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHRcdFx0cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGhcIiwgeyBjb2xTcGFuOiBcIjJcIiB9LCB0aGlzLnByb3BzLmNhdGVnb3J5KSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR2YXIgUHJvZHVjdFJvdyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHsgZGlzcGxheU5hbWU6IFwiUHJvZHVjdFJvd1wiLFxuXHRcdFx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0XHRcdHZhciBuYW1lID0gdGhpcy5wcm9wcy5wcm9kdWN0LnN0b2NrZWQgPyB0aGlzLnByb3BzLnByb2R1Y3QubmFtZSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgc3R5bGU6IHsgY29sb3I6ICdyZWQnIH0gfSwgdGhpcy5wcm9wcy5wcm9kdWN0Lm5hbWUpO1xuXHRcdFx0XHRyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCBudWxsLCBuYW1lKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIHRoaXMucHJvcHMucHJvZHVjdC5wcmljZSkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dmFyIFByb2R1Y3RUYWJsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHsgZGlzcGxheU5hbWU6IFwiUHJvZHVjdFRhYmxlXCIsXG5cdFx0XHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHRcdFx0dmFyIHJvd3MgPSBbXTtcblx0XHRcdFx0dmFyIGxhc3RDYXRlZ29yeSA9IG51bGw7XG5cdFx0XHRcdHRoaXMucHJvcHMucHJvZHVjdHMuZm9yRWFjaChmdW5jdGlvbiAocHJvZHVjdCkge1xuXHRcdFx0XHRcdGlmIChwcm9kdWN0Lm5hbWUuaW5kZXhPZih0aGlzLnByb3BzLmZpbHRlclRleHQpID09PSAtMSB8fCAhcHJvZHVjdC5zdG9ja2VkICYmIHRoaXMucHJvcHMuaW5TdG9ja09ubHkpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHByb2R1Y3QuY2F0ZWdvcnkgIT09IGxhc3RDYXRlZ29yeSkge1xuXHRcdFx0XHRcdFx0cm93cy5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvZHVjdENhdGVnb3J5Um93LCB7IGNhdGVnb3J5OiBwcm9kdWN0LmNhdGVnb3J5LCBrZXk6IHByb2R1Y3QuY2F0ZWdvcnkgfSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyb3dzLnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChQcm9kdWN0Um93LCB7IHByb2R1Y3Q6IHByb2R1Y3QsIGtleTogcHJvZHVjdC5uYW1lIH0pKTtcblx0XHRcdFx0XHRsYXN0Q2F0ZWdvcnkgPSBwcm9kdWN0LmNhdGVnb3J5O1xuXHRcdFx0XHR9LmJpbmQodGhpcykpO1xuXHRcdFx0XHRyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInRhYmxlXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIG51bGwsIFwiTmFtZVwiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIG51bGwsIFwiUHJpY2VcIikpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRib2R5XCIsIG51bGwsIHJvd3MpKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHZhciBTZWFyY2hCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7IGRpc3BsYXlOYW1lOiBcIlNlYXJjaEJhclwiLFxuXHRcdFx0aGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoKSB7XG5cdFx0XHRcdHRoaXMucHJvcHMub25Vc2VySW5wdXQodGhpcy5yZWZzLmZpbHRlclRleHRJbnB1dC52YWx1ZSwgdGhpcy5yZWZzLmluU3RvY2tPbmx5SW5wdXQuY2hlY2tlZCk7XG5cdFx0XHR9LFxuXHRcdFx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0XHRcdHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuXHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyOiBcIlNlYXJjaC4uLlwiLFxuXHRcdFx0XHRcdHZhbHVlOiB0aGlzLnByb3BzLmZpbHRlclRleHQsXG5cdFx0XHRcdFx0cmVmOiBcImZpbHRlclRleHRJbnB1dFwiLFxuXHRcdFx0XHRcdG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcblx0XHRcdFx0XHR0eXBlOiBcImNoZWNrYm94XCIsXG5cdFx0XHRcdFx0Y2hlY2tlZDogdGhpcy5wcm9wcy5pblN0b2NrT25seSxcblx0XHRcdFx0XHRyZWY6IFwiaW5TdG9ja09ubHlJbnB1dFwiLFxuXHRcdFx0XHRcdG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSB9KSwgJyAnLCBcIk9ubHkgc2hvdyBwcm9kdWN0cyBpbiBzdG9ja1wiKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR2YXIgRmlsdGVyYWJsZVByb2R1Y3RUYWJsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHsgZGlzcGxheU5hbWU6IFwiRmlsdGVyYWJsZVByb2R1Y3RUYWJsZVwiLFxuXHRcdFx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZmlsdGVyVGV4dDogJycsXG5cdFx0XHRcdFx0aW5TdG9ja09ubHk6IGZhbHNlXG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXG5cdFx0XHRoYW5kbGVVc2VySW5wdXQ6IGZ1bmN0aW9uIGhhbmRsZVVzZXJJbnB1dChmaWx0ZXJUZXh0LCBpblN0b2NrT25seSkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRmaWx0ZXJUZXh0OiBmaWx0ZXJUZXh0LFxuXHRcdFx0XHRcdGluU3RvY2tPbmx5OiBpblN0b2NrT25seVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cblx0XHRcdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdFx0XHRyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFNlYXJjaEJhciwge1xuXHRcdFx0XHRcdGZpbHRlclRleHQ6IHRoaXMuc3RhdGUuZmlsdGVyVGV4dCxcblx0XHRcdFx0XHRpblN0b2NrT25seTogdGhpcy5zdGF0ZS5pblN0b2NrT25seSxcblx0XHRcdFx0XHRvblVzZXJJbnB1dDogdGhpcy5oYW5kbGVVc2VySW5wdXQgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvZHVjdFRhYmxlLCB7XG5cdFx0XHRcdFx0cHJvZHVjdHM6IHRoaXMucHJvcHMucHJvZHVjdHMsXG5cdFx0XHRcdFx0ZmlsdGVyVGV4dDogdGhpcy5zdGF0ZS5maWx0ZXJUZXh0LFxuXHRcdFx0XHRcdGluU3RvY2tPbmx5OiB0aGlzLnN0YXRlLmluU3RvY2tPbmx5IH0pKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdFJlYWN0RE9NLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KEZpbHRlcmFibGVQcm9kdWN0VGFibGUsIHsgcHJvZHVjdHM6IFBST0RVQ1RTIH0pLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJykpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRwcm9kdWN0OiBwcm9kdWN0XG5cdH07XG59KCk7XG5cbkFQUC5sYXVuY2hlci5pbml0KCk7IiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHROQU1FU1BBQ0VcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbnZhciBBUFAgPSBBUFAgfHwge307XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBMQVVOQ0ggQVBQXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5BUFAubGF1bmNoZXIgPSAoICgpID0+IHtcblxuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdEFQUC5yZW5kZXIucHJvZHVjdCgpO1xuICAgIH1cblxuXHRyZXR1cm4ge1xuXHRcdGluaXQ6IGluaXRcblx0fTtcblxufSkoKTtcblxuQVBQLnJlbmRlciA9ICggKCkgPT4ge1xuXG5cdGZ1bmN0aW9uIHByb2R1Y3QoKSB7XG5cblx0XHR2YXIgUFJPRFVDVFMgPSBbXG5cdFx0ICB7Y2F0ZWdvcnk6ICdTcG9ydGluZyBHb29kcycsIHByaWNlOiAnJDQ5Ljk5Jywgc3RvY2tlZDogdHJ1ZSwgbmFtZTogJ0Zvb3RiYWxsJ30sXG5cdFx0ICB7Y2F0ZWdvcnk6ICdTcG9ydGluZyBHb29kcycsIHByaWNlOiAnJDkuOTknLCBzdG9ja2VkOiB0cnVlLCBuYW1lOiAnQmFzZWJhbGwnfSxcblx0XHQgIHtjYXRlZ29yeTogJ1Nwb3J0aW5nIEdvb2RzJywgcHJpY2U6ICckMjkuOTknLCBzdG9ja2VkOiBmYWxzZSwgbmFtZTogJ0Jhc2tldGJhbGwnfSxcblx0XHQgIHtjYXRlZ29yeTogJ0VsZWN0cm9uaWNzJywgcHJpY2U6ICckOTkuOTknLCBzdG9ja2VkOiB0cnVlLCBuYW1lOiAnaVBvZCBUb3VjaCd9LFxuXHRcdCAge2NhdGVnb3J5OiAnRWxlY3Ryb25pY3MnLCBwcmljZTogJyQzOTkuOTknLCBzdG9ja2VkOiBmYWxzZSwgbmFtZTogJ2lQaG9uZSA1J30sXG5cdFx0ICB7Y2F0ZWdvcnk6ICdFbGVjdHJvbmljcycsIHByaWNlOiAnJDE5OS45OScsIHN0b2NrZWQ6IHRydWUsIG5hbWU6ICdOZXh1cyA3J31cblx0XHRdO1xuXG5cdFx0dmFyIFByb2R1Y3RDYXRlZ29yeVJvdyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJQcm9kdWN0Q2F0ZWdvcnlSb3dcIixcblx0XHQgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0ICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7Y29sU3BhbjogXCIyXCJ9LCB0aGlzLnByb3BzLmNhdGVnb3J5KSkpO1xuXHRcdCAgfVxuXHRcdH0pO1xuXG5cdFx0dmFyIFByb2R1Y3RSb3cgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiUHJvZHVjdFJvd1wiLFxuXHRcdCAgcmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHQgICAgdmFyIG5hbWUgPSB0aGlzLnByb3BzLnByb2R1Y3Quc3RvY2tlZCA/XG5cdFx0ICAgICAgdGhpcy5wcm9wcy5wcm9kdWN0Lm5hbWUgOlxuXHRcdCAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtzdHlsZToge2NvbG9yOiAncmVkJ319LCBcblx0XHQgICAgICAgIHRoaXMucHJvcHMucHJvZHVjdC5uYW1lXG5cdFx0ICAgICAgKTtcblx0XHQgICAgcmV0dXJuIChcblx0XHQgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgXG5cdFx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgbmFtZSksIFxuXHRcdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIHRoaXMucHJvcHMucHJvZHVjdC5wcmljZSlcblx0XHQgICAgICApXG5cdFx0ICAgICk7XG5cdFx0ICB9XG5cdFx0fSk7XG5cblx0XHR2YXIgUHJvZHVjdFRhYmxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIlByb2R1Y3RUYWJsZVwiLFxuXHRcdCAgcmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHQgICAgdmFyIHJvd3MgPSBbXTtcblx0XHQgICAgdmFyIGxhc3RDYXRlZ29yeSA9IG51bGw7XG5cdFx0ICAgIHRoaXMucHJvcHMucHJvZHVjdHMuZm9yRWFjaChmdW5jdGlvbihwcm9kdWN0KSB7XG5cdFx0ICAgICAgaWYgKHByb2R1Y3QubmFtZS5pbmRleE9mKHRoaXMucHJvcHMuZmlsdGVyVGV4dCkgPT09IC0xIHx8ICghcHJvZHVjdC5zdG9ja2VkICYmIHRoaXMucHJvcHMuaW5TdG9ja09ubHkpKSB7XG5cdFx0ICAgICAgICByZXR1cm47XG5cdFx0ICAgICAgfVxuXHRcdCAgICAgIGlmIChwcm9kdWN0LmNhdGVnb3J5ICE9PSBsYXN0Q2F0ZWdvcnkpIHtcblx0XHQgICAgICAgIHJvd3MucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFByb2R1Y3RDYXRlZ29yeVJvdywge2NhdGVnb3J5OiBwcm9kdWN0LmNhdGVnb3J5LCBrZXk6IHByb2R1Y3QuY2F0ZWdvcnl9KSk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICAgIHJvd3MucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFByb2R1Y3RSb3csIHtwcm9kdWN0OiBwcm9kdWN0LCBrZXk6IHByb2R1Y3QubmFtZX0pKTtcblx0XHQgICAgICBsYXN0Q2F0ZWdvcnkgPSBwcm9kdWN0LmNhdGVnb3J5O1xuXHRcdCAgICB9LmJpbmQodGhpcykpO1xuXHRcdCAgICByZXR1cm4gKFxuXHRcdCAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCBudWxsLCBcblx0XHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiLCBudWxsLCBcblx0XHQgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIG51bGwsIFxuXHRcdCAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCBudWxsLCBcIk5hbWVcIiksIFxuXHRcdCAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCBudWxsLCBcIlByaWNlXCIpXG5cdFx0ICAgICAgICAgIClcblx0XHQgICAgICAgICksIFxuXHRcdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRib2R5XCIsIG51bGwsIHJvd3MpXG5cdFx0ICAgICAgKVxuXHRcdCAgICApO1xuXHRcdCAgfVxuXHRcdH0pO1xuXG5cdFx0dmFyIFNlYXJjaEJhciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJTZWFyY2hCYXJcIixcblx0XHQgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24oKSB7XG5cdFx0ICAgIHRoaXMucHJvcHMub25Vc2VySW5wdXQoXG5cdFx0ICAgICAgdGhpcy5yZWZzLmZpbHRlclRleHRJbnB1dC52YWx1ZSxcblx0XHQgICAgICB0aGlzLnJlZnMuaW5TdG9ja09ubHlJbnB1dC5jaGVja2VkXG5cdFx0ICAgICk7XG5cdFx0ICB9LFxuXHRcdCAgcmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHQgICAgcmV0dXJuIChcblx0XHQgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCBudWxsLCBcblx0XHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG5cdFx0ICAgICAgICAgIHR5cGU6IFwidGV4dFwiLCBcblx0XHQgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiU2VhcmNoLi4uXCIsIFxuXHRcdCAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wcy5maWx0ZXJUZXh0LCBcblx0XHQgICAgICAgICAgcmVmOiBcImZpbHRlclRleHRJbnB1dFwiLCBcblx0XHQgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlfVxuXHRcdCAgICAgICAgKSwgXG5cdFx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcblx0XHQgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcblx0XHQgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsIFxuXHRcdCAgICAgICAgICAgIGNoZWNrZWQ6IHRoaXMucHJvcHMuaW5TdG9ja09ubHksIFxuXHRcdCAgICAgICAgICAgIHJlZjogXCJpblN0b2NrT25seUlucHV0XCIsIFxuXHRcdCAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZX1cblx0XHQgICAgICAgICAgKSwgXG5cdFx0ICAgICAgICAgICcgJywgXG5cdFx0ICAgICAgICAgIFwiT25seSBzaG93IHByb2R1Y3RzIGluIHN0b2NrXCJcblx0XHQgICAgICAgIClcblx0XHQgICAgICApXG5cdFx0ICAgICk7XG5cdFx0ICB9XG5cdFx0fSk7XG5cblx0XHR2YXIgRmlsdGVyYWJsZVByb2R1Y3RUYWJsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJGaWx0ZXJhYmxlUHJvZHVjdFRhYmxlXCIsXG5cdFx0ICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdCAgICByZXR1cm4ge1xuXHRcdCAgICAgIGZpbHRlclRleHQ6ICcnLFxuXHRcdCAgICAgIGluU3RvY2tPbmx5OiBmYWxzZVxuXHRcdCAgICB9O1xuXHRcdCAgfSxcblxuXHRcdCAgaGFuZGxlVXNlcklucHV0OiBmdW5jdGlvbihmaWx0ZXJUZXh0LCBpblN0b2NrT25seSkge1xuXHRcdCAgICB0aGlzLnNldFN0YXRlKHtcblx0XHQgICAgICBmaWx0ZXJUZXh0OiBmaWx0ZXJUZXh0LFxuXHRcdCAgICAgIGluU3RvY2tPbmx5OiBpblN0b2NrT25seVxuXHRcdCAgICB9KTtcblx0XHQgIH0sXG5cblx0XHQgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0ICAgIHJldHVybiAoXG5cdFx0ICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcblx0XHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VhcmNoQmFyLCB7XG5cdFx0ICAgICAgICAgIGZpbHRlclRleHQ6IHRoaXMuc3RhdGUuZmlsdGVyVGV4dCwgXG5cdFx0ICAgICAgICAgIGluU3RvY2tPbmx5OiB0aGlzLnN0YXRlLmluU3RvY2tPbmx5LCBcblx0XHQgICAgICAgICAgb25Vc2VySW5wdXQ6IHRoaXMuaGFuZGxlVXNlcklucHV0fVxuXHRcdCAgICAgICAgKSwgXG5cdFx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFByb2R1Y3RUYWJsZSwge1xuXHRcdCAgICAgICAgICBwcm9kdWN0czogdGhpcy5wcm9wcy5wcm9kdWN0cywgXG5cdFx0ICAgICAgICAgIGZpbHRlclRleHQ6IHRoaXMuc3RhdGUuZmlsdGVyVGV4dCwgXG5cdFx0ICAgICAgICAgIGluU3RvY2tPbmx5OiB0aGlzLnN0YXRlLmluU3RvY2tPbmx5fVxuXHRcdCAgICAgICAgKVxuXHRcdCAgICAgIClcblx0XHQgICAgKTtcblx0XHQgIH1cblx0XHR9KTtcblxuXHRcdFJlYWN0RE9NLnJlbmRlcihcblx0XHQgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmlsdGVyYWJsZVByb2R1Y3RUYWJsZSwge3Byb2R1Y3RzOiBQUk9EVUNUU30pLFxuXHRcdCAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpXG5cdFx0KTtcblxuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRwcm9kdWN0OiBwcm9kdWN0XG5cdH07XG5cblxufSkoKTtcblxuQVBQLmxhdW5jaGVyLmluaXQoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
